<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EcoSim - Buy ECO</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@1.91.7/lib/index.iife.min.js"></script>
  <style>
    body { background: radial-gradient(circle at 20% 20%, rgba(251, 191, 36, 0.08), transparent 40%), #0a0a0f; color: #e5e7eb; }
    .glass { background: rgba(20, 17, 8, 0.7); backdrop-filter: blur(14px); }
    .glow { box-shadow: 0 18px 48px rgba(245, 158, 11, 0.28), 0 0 24px rgba(234, 179, 8, 0.18); }
    .pill { border-radius: 999px; }
    .badge { background: rgba(251, 191, 36, 0.18); border: 1px solid rgba(252, 211, 77, 0.6); }
    .btn-primary { background: linear-gradient(135deg, #fbbf24, #f59e0b); color: #0b0b0f; box-shadow: 0 10px 30px rgba(251, 191, 36, 0.35); }
    .btn-primary:disabled { opacity: 0.5; cursor: not-allowed; box-shadow: none; }
    .btn-ghost { border: 1px solid rgba(255,255,255,0.12); color: #e5e7eb; }
  </style>
</head>
<body class="min-h-screen">
  <div class="relative overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-br from-slate-900 via-slate-950 to-slate-900 opacity-90 pointer-events-none"></div>
    <div class="absolute inset-0 bg-[radial-gradient(circle_at_15%_30%,rgba(74,222,128,0.12),transparent_35%),radial-gradient(circle_at_80%_10%,rgba(34,211,238,0.15),transparent_40%)] pointer-events-none"></div>
  </div>

  <header class="relative z-10">
    <div class="max-w-6xl mx-auto px-4 py-4 flex items-center justify-between">
      <div class="flex items-center gap-2">
        <div class="h-10 w-10 rounded-2xl bg-cyan-400/20 border border-cyan-300/40 grid place-items-center text-cyan-100 font-black">E</div>
        <div>
          <div class="text-white font-bold text-lg">EcoSim</div>
          <div class="text-slate-400 text-xs">Buy ECO (Solana)</div>
        </div>
      </div>
      <nav class="flex items-center gap-2 text-sm">
        <button class="px-4 py-2 pill border border-amber-300/60 text-white bg-amber-400/20">Buy</button>
        <button class="px-4 py-2 pill border border-white/10 text-slate-200">Stats</button>
        <button class="px-4 py-2 pill border border-white/10 text-slate-200">FAQ</button>
      </nav>
      <div class="flex items-center gap-2">
        <div id="walletPill" class="px-4 py-2 pill glass border border-white/10 text-sm text-slate-200">Not connected</div>
        <a class="px-4 py-2 pill btn-ghost text-sm font-semibold" href="https://ecosim-site.vercel.app/" target="_blank" rel="noreferrer noopener">Home</a>
        <a class="px-4 py-2 pill btn-primary text-sm font-semibold" href="https://t.me/ecosimgamebot?start=inspiringmandazida7e16asta" target="_blank" rel="noreferrer noopener">PLAY</a>
      </div>
    </div>
  </header>

  <main class="relative z-10 max-w-6xl mx-auto px-4 pb-12">
    <section class="grid gap-4 md:grid-cols-2">
      <!-- Round Details -->
      <div class="glass glow rounded-2xl border border-white/10 p-5">
        <div class="flex items-center gap-2 text-sm text-amber-200 mb-3">
          <span class="inline-flex h-2 w-2 rounded-full bg-amber-400 shadow-[0_0_10px_rgba(251,191,36,0.7)]"></span>
          Early Access
        </div>
        <h2 class="text-white text-xl font-bold mb-3">Round Details</h2>
        <div class="flex flex-wrap gap-2 mb-3 text-xs">
          <span class="px-3 py-1 pill badge text-amber-100">Token: ECO</span>
          <span class="px-3 py-1 pill badge text-amber-100">Network: Solana</span>
          <span class="px-3 py-1 pill badge text-amber-100">Hard cap: 100 SOL</span>
          <span class="px-3 py-1 pill badge text-amber-100">Price: 50,000 ECO / 1 USDC</span>
        </div>
        <div class="space-y-2 text-sm text-slate-100">
          <div class="flex justify-between rounded-xl border border-white/10 bg-slate-900/70 px-3 py-2">
            <span>Presale Supply</span><span>25,000,000 ECO (2.5%)</span>
          </div>
          <div class="flex justify-between rounded-xl border border-white/10 bg-slate-900/70 px-3 py-2">
            <span>Target</span><span>$30,000</span>
          </div>
        </div>
        <div class="mt-3 rounded-xl border border-white/10 bg-slate-900/70 px-3 py-3">
          <div class="text-white font-semibold mb-1">Vesting (Super-Early)</div>
          <ul class="text-slate-200 text-sm space-y-1 list-disc pl-4">
            <li>10% unlock at TGE</li>
            <li>30-day cliff</li>
            <li>90% linear over 6 months</li>
          </ul>
        </div>
        <p class="text-xs text-slate-400 mt-3">Disclaimer: EcoSim presale is experimental. Participation is voluntary.</p>
      </div>

      <!-- Buy Card -->
      <div class="glass glow rounded-2xl border border-white/10 p-5 space-y-3">
        <div class="flex items-center justify-between">
          <div>
            <div class="text-sm text-slate-300">Buy ECO</div>
            <div class="text-lg font-bold text-white">Solana + USDC -> Phantom</div>
          </div>
          <div class="flex gap-2">
            <img src="./assets/usd-coin.png" alt="USDC" class="w-6 h-6">
            <img src="./assets/solana-logo.png" alt="Solana" class="w-6 h-6">
          </div>
        </div>

        <div class="text-sm text-slate-200">
          Price: <b>50,000 ECO / 1 USDC</b> (keep a little SOL for fees)
        </div>

        <div class="flex gap-2 text-xs text-slate-300">
          <span class="px-3 py-1 pill badge text-lime-100 border-lime-300/50">Treasury: <span id="treasuryAddress" class="mono">-</span></span>
        </div>

        <div class="space-y-2">
          <div class="flex gap-3 flex-col sm:flex-row">
            <div class="flex-1">
              <label class="text-sm text-slate-200" for="amount">USDC Amount (min 1, max 10)</label>
              <input id="amount" type="number" min="1" max="10" step="1" placeholder="5" class="w-full rounded-xl border border-white/10 bg-slate-900/70 px-3 py-2 text-white">
            </div>
          </div>
          <div class="flex flex-wrap gap-2 text-xs">
            <button data-pct="10" class="px-3 py-1 rounded-full border border-amber-300/60 text-amber-100 hover:bg-amber-300/10">10%</button>
            <button data-pct="25" class="px-3 py-1 rounded-full border border-amber-300/60 text-amber-100 hover:bg-amber-300/10">25%</button>
            <button data-pct="50" class="px-3 py-1 rounded-full border border-amber-300/60 text-amber-100 hover:bg-amber-300/10">50%</button>
            <button data-pct="100" class="px-3 py-1 rounded-full border border-amber-300/60 text-amber-100 hover:bg-amber-300/10">MAX</button>
          </div>
          <p class="text-xs text-slate-400" id="feeEstimate">Est. network fee: tiny SOL (for transactions)</p>
          <p class="text-xs text-amber-200" id="ecoEstimate">You receive: - ECO</p>
          <div class="grid gap-2 md:grid-cols-3 pt-2">
            <button class="btn-primary pill px-4 py-3 text-sm font-semibold md:col-span-1" id="connectBtn">Connect Phantom</button>
            <button class="btn-primary pill px-4 py-3 text-sm font-semibold md:col-span-1" id="payBtn" disabled title="Connect wallet first">Buy ECO</button>
            <button class="btn-ghost pill px-4 py-3 text-sm font-semibold md:col-span-1" id="copyBtn">Copy Presale Wallet</button>
          </div>
        </div>

        <div class="rounded-xl border border-white/10 bg-slate-900/60 p-3 text-sm text-slate-200 space-y-1">
          <div>Wallet: <span id="walletMini">-</span></div>
          <div>Total bought (ECO): <span id="totalBought">0</span></div>
          <div>Points: <span id="points">0</span></div>
          <div>USDC balance: <span id="usdcBalance">-</span></div>
          <div>Last tx: <span id="lastTx">-</span></div>
          <div>Status: <span id="connStatus">Not connected</span></div>
          <div id="result" class="text-xs text-cyan-200"></div>
        </div>
      </div>
    </section>
  </main>

  <script type="module" src="./buy.js"></script>
</body>
</html>
